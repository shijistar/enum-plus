name: Close Stale Issues

on:
  schedule:
    # Run once daily at midnight UTC
    - cron: "0 0 * * *"
  workflow_dispatch: # Allow manual triggering

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write

    steps:
      - uses: actions/stale@v9
        with:
          # Inactive days before marking as stale
          days-before-stale: 60
          # Days before closing after marking as stale (0 means close immediately)
          days-before-close: 7
          # Do not process PRs, only issues
          days-before-pr-stale: -1
          days-before-pr-close: -1
          # Label to add to inactive issues
          stale-issue-label: "stale"
          # Comment when marking as stale
          stale-issue-message: "This issue has been inactive for 2 months and will be automatically closed in 7 days. If the issue still exists, please reply to this issue."
          # Comment when closing
          close-issue-message: "This issue has been automatically closed due to prolonged inactivity. You can reopen it if necessary."
          # Labels of issues that will not be closed
          exempt-issue-labels: "pinned,security,bug"
          # Labels of issues that will not be closed
          # exempt-assignees: 'username1,username2'
