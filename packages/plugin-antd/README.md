<!-- markdownlint-disable MD001 MD009 MD033 MD041 -->

[English](./README.md) | [ä¸­æ–‡](./README.zh-CN.md) | [CHANGELOG](./CHANGELOG.md)

# enum-plus for Ant Design

## Introduction

`@enum-plus/antd` is a plugin for `enum-plus` that provides functionality to bind enums to [Ant Design](https://ant-design.antgroup.com/components/overview-cn) components. It allows you to easily convert enums into data sources for UI components like dropdowns, checkboxes, radio buttons, etc., simplifying the process of using enums in front-end applications.

## Installation

```bash
npm install enum-plus
```

In the entry file of your application, import the `@enum-plus/antd` plugin and install it:

```js
import antdPlugin from '@enum-plus/antd';
import { Enum } from 'enum-plus';

Enum.install(antdPlugin);
```

## Plugin Options

When installing the plugin, you can pass a configuration object to set global options for the plugin:

```ts
Enum.install(antdPlugin, {
  toSelect: {
    valueField: 'id', // Sets the field representing the value in the data object generated by the toSelect method
    labelField: 'name', // Sets the field representing the label in the data object generated by the toSelect method
  },
});
```

## API

### ðŸ’Ž &nbsp; toSelect

<sup>**_\[F]_**</sup> &nbsp; `toSelect(config?: ToSelectConfig): {value, label}[]`

`toSelect` method returns an array of all enum members, containing `label` and `value` fields. It also supports inserting a default element at the beginning of the array, typically used as a default option for dropdown components, representing "All", "None", or "Unlimited". You can also customize this default option.

```tsx
import { Select } from 'antd';

<Select options={WeekEnum.toSelect()} />;

<Select
  options={WeekEnum.toSelect({
    firstOption: { value: '', label: 'All' },
  })}
/>;
```

You can also set global default options by configuring `labelField` and `valueField` when installing the plugin, which modifies the data object generated by the `toSelect` method.

```js
import antdPlugin from '@enum-plus/antd';
import { Enum } from 'enum-plus';

Enum.install(antdPlugin, {
  toSelect: { valueField: 'id', labelField: 'name' },
});
WeekEnum.toSelect(); // [{ id: 1, name: 'Monday' }, { id: 2, name: 'Tuesday' }]
```

---

### ðŸ’Ž &nbsp; toMenu

<sup>**_\[F]_**</sup> &nbsp; `toMenu(): { key, label }[]`

Returns an array of all enum members that conforms to [Ant Design](https://ant.design/components/menu) specifications. It's used to generate the `Menu`, `Dropdown` controls, in a single line of code.

```js
import { Menu } from 'antd';

<Menu items={WeekEnum.toMenu()} />;
```

The data format is:

```js
[
  { key: 0, label: 'Sunday' },
  { key: 1, label: 'Monday' },
];
```

---

### ðŸ’Ž &nbsp; toFilter

<sup>**_\[F]_**</sup> &nbsp; `toFilter(): { text, value }[]`

Returns an array of enum members that can pass directly to the [Ant Design](https://ant.design/components/table#table-demo-head) Table component as `filters` property of a column. This is used to add a dropdown filter box in the table header to filter table data. The object structure follows the [Ant Design](https://ant-design.antgroup.com/components/table#table-demo-head) data specification, with the format: `{ text: string, value: number|string } []`

```tsx
import { Table } from 'antd';

const columns = [
  {
    title: 'week',
    dataIndex: 'week',
    filters: WeekEnum.toFilter(),
  },
];
// Add column filter at table header
<Table columns={columns} />;
```

---

### ðŸ’Ž &nbsp; toValueMap

<sup>**_\[F]_**</sup> &nbsp; `toValueMap(): Record<V, { text: string }>`

`toValueMap` method is used to generate data sources for binding the [Ant Design Pro](https://procomponents.ant.design/en-US/components/schema#valueenum-1) `ProFormField` series controls, and `ProTable`. This is a Map-like data structure, with the format: `{ [key: number|string]: { text: string } }`

```tsx
import { ProFormCheckbox, ProFormRadio, ProFormSelect, ProFormTreeSelect, ProTable } from '@ant-design/pro-components';

<ProFormSelect valueEnum={WeekEnum.toValueMap()} />; // Select
<ProFormCheckbox valueEnum={WeekEnum.toValueMap()} />; // Checkbox
<ProFormRadio.Group valueEnum={WeekEnum.toValueMap()} />; // Radio
<ProFormTreeSelect valueEnum={WeekEnum.toValueMap()} />; // TreeSelect
<ProTable columns={[{ dataIndex: 'week', valueEnum: WeekEnum.toValueMap() }]} />; // ProTable
```

The data format is:

```js
{
  0: { text: 'Sunday' },
  1: { text: 'Monday' },
}
```
